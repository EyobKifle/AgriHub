
Follow these steps to run your AgriHub PHP app from XAMPP and connect it to MySQL.

1) Put the project under Apacheâ€™s web root

Copy the folder

    Copy AgriHub to C:\xampp\htdocs\
    Final path should be C:\xampp\htdocs\AgriHub
    mklink /D "C:\xampp\htdocs\AgriHub" "c:\Users\brkti\Documents\School Work\Project\AgriHub"

2) Start Apache and MySQL in XAMPP

In XAMPP Control Panel:
Click Start for Apache
Click Start for MySQL


3) Create the database and import schema/data

Using phpMyAdmin:

Open http://localhost/phpmyadmin
Click the agrihub database -> Import tab
Choose file: C:\xampp\htdocs\AgriHub\agrihub.sql
Go -> wait for success

If you already created agrihub before, drop it and re-Import

4) How to run

Open phpMyAdmin
Select the agrihub database
Go to the SQL tab
Paste the entire block below and click Go

            USE agrihub;
            -- OPTIONAL: remove previous sample rows by title to avoid duplicates on re-run
            DELETE FROM product_images
            WHERE product_id IN (
            SELECT pid FROM (SELECT id AS pid FROM products WHERE title IN (
            'Fresh Organic Teff - Premium Grade',
            'Irrigation System - Drip Kit',
            'Arabica Coffee Beans - Washed',
            'Tomatoes - Greenhouse Fresh',
            'DAP Fertilizer 50kg Bag',
            'Hybrid Maize Seeds - 10kg'
            )) AS x
            );
            
            DELETE FROM products
            WHERE title IN (
            'Fresh Organic Teff - Premium Grade',
            'Irrigation System - Drip Kit',
            'Arabica Coffee Beans - Washed',
            'Tomatoes - Greenhouse Fresh',
            'DAP Fertilizer 50kg Bag',
            'Hybrid Maize Seeds - 10kg'
            );
           
            -- Ensure the demo seller exists (uses ON DUPLICATE to be safe)
            INSERT INTO users (email, password_hash, name, role, location, is_active)
            VALUES ('farmer@example.com', 'user1', 'Elias Zerabruk', 'farmer', 'Addis Ababa', TRUE)
            ON DUPLICATE KEY UPDATE email = email;
           
            -- Get the seller id into a variable
            SET @seller_id = (SELECT id FROM users WHERE email = 'farmer@example.com' LIMIT 1);
            
            -- Insert sample products mapped to categories by name
            INSERT INTO products (seller_id, title, description, category_id, price, unit, quantity_available, status)
            VALUES
            (@seller_id, 'Fresh Organic Teff - Premium Grade', 'Premium grade teff sourced from local farmers.',
            (SELECT id FROM categories WHERE name = 'Grains' LIMIT 1), 850, 'kg', 100, 'active'),
            (@seller_id, 'Irrigation System - Drip Kit', 'Efficient drip irrigation kit for small to medium farms.',
            (SELECT id FROM categories WHERE name = 'Equipment' LIMIT 1), 3800, 'unit', 10, 'active'),
            (@seller_id, 'Arabica Coffee Beans - Washed', 'High-quality washed Arabica coffee beans from Jimma.',
            (SELECT id FROM categories WHERE name = 'Coffee' LIMIT 1), 1200, 'kg', 200, 'active'),
            (@seller_id, 'Tomatoes - Greenhouse Fresh', 'Fresh greenhouse-grown tomatoes.',
            (SELECT id FROM categories WHERE name = 'Vegetables' LIMIT 1), 95, 'kg', 300, 'active'),
            (@seller_id, 'DAP Fertilizer 50kg Bag', 'Trusted DAP fertilizer suitable for a range of crops.',
            (SELECT id FROM categories WHERE name = 'Fertilizers' LIMIT 1), 2650, 'bag', 50, 'active'),
            (@seller_id, 'Hybrid Maize Seeds - 10kg', 'Hybrid maize seeds optimized for yield.',
            (SELECT id FROM categories WHERE name = 'Seeds' LIMIT 1), 780, 'kg', 80, 'active');
            
            -- Insert one image per product (paths match your repo: images/1.jpg ... images/5.jpg)
            INSERT INTO product_images (product_id, image_url) VALUES
            ((SELECT id FROM products WHERE title = 'Fresh Organic Teff - Premium Grade' LIMIT 1), 'images/1.jpg'),
            ((SELECT id FROM products WHERE title = 'Irrigation System - Drip Kit' LIMIT 1), 'images/2.jpg'),
            ((SELECT id FROM products WHERE title = 'Arabica Coffee Beans - Washed' LIMIT 1), 'images/3.jpg'),
            ((SELECT id FROM products WHERE title = 'Tomatoes - Greenhouse Fresh' LIMIT 1), 'images/4.jpg'),
            ((SELECT id FROM products WHERE title = 'DAP Fertilizer 50kg Bag' LIMIT 1), 'images/5.jpg'),
            ((SELECT id FROM products WHERE title = 'Hybrid Maize Seeds - 10kg' LIMIT 1), 'images/1.jpg');

After running it

Open http://localhost/AgriHub/marketplace.php

You should see products
